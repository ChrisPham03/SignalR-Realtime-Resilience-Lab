<div class="dashboard">
  <header class="dashboard-header">
    <div class="header-left">
      <h1>ğŸª Salon Admin Dashboard</h1>
      <p class="subtitle">Real-Time Appointment Monitoring</p>
    </div>
    <div class="header-right">
      <app-connection-status></app-connection-status>
    </div>
  </header>

  <div class="notification" *ngIf="notification">
    <span class="notification-icon">ğŸ””</span>
    {{ notification }}
  </div>

  <div class="sync-bar" *ngIf="isSyncing">
    <div class="sync-progress"></div>
    <span>Syncing appointments...</span>
  </div>

  <div class="stats-bar">
    <div class="stat">
      <span class="stat-value">{{ appointments.length }}</span>
      <span class="stat-label">Total Appointments</span>
    </div>
    <div class="stat">
      <span class="stat-value">{{ lastUpdated | date:'HH:mm:ss' }}</span>
      <span class="stat-label">Last Updated</span>
    </div>
    <button class="refresh-button" (click)="refresh()" [disabled]="isSyncing">ğŸ”„ Refresh</button>
  </div>

  <main class="appointments-container">
    <div class="appointments-header">
      <h2>ğŸ“… Recent Bookings</h2>
      <span class="live-indicator"><span class="live-dot"></span> LIVE</span>
    </div>

    <div class="empty-state" *ngIf="appointments.length === 0 && !isSyncing">
      <span class="empty-icon">ğŸ“­</span>
      <p>No appointments yet</p>
    </div>

    <div class="appointments-grid" *ngIf="appointments.length > 0">
      <div class="appointment-card" *ngFor="let apt of appointments; trackBy: trackByAppointment">
        <div class="card-header">
          <span class="customer-name">{{ apt.customerName }}</span>
          <span class="status-badge" [class]="getStatusClass(apt.status)">{{ apt.status }}</span>
        </div>
        <div class="card-body">
          <div class="service-info">
            <span class="service-type">âœ‚ï¸ {{ apt.serviceType }}</span>
            <span class="duration">{{ apt.durationMinutes }} min</span>
          </div>
          <div class="appointment-details">
            <div class="detail"><span class="label">ğŸ“</span> {{ apt.customerPhone }}</div>
            <div class="detail"><span class="label">ğŸ‘¤</span> {{ apt.stylistName }}</div>
            <div class="detail"><span class="label">ğŸ“…</span> {{ formatDate(apt.appointmentTime) }}</div>
            <div class="detail"><span class="label">ğŸ’°</span> ${{ apt.price | number:'1.2-2' }}</div>
          </div>
          <div class="notes" *ngIf="apt.notes"><span class="label">ğŸ“</span> {{ apt.notes }}</div>
        </div>
        <div class="card-footer">
          <small>Created: {{ formatTimeAgo(apt.createdAt) }}</small>
        </div>
      </div>
    </div>
  </main>
</div>